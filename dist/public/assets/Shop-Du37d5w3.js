import{j as e}from"./ui-vendor-_s0klCrL.js";import{u as ae,b as re}from"./react-vendor-C7VPsBAG.js";import{u as te,a6 as ie,_ as ne,b as u,a7 as ce,d as N,q as d,f as b,N as M,L as le,S as V,B as o,A as Q,C as n,k as c,a8 as p,D as oe,a9 as j,aa as me,ab as de,ac as y,ad as v,ae as w,h as P,i as S,j as C,af as k,ag as R,F as xe,ah as J,Y as W}from"./index-BLJ_ytcB.js";import{P as he}from"./progress-CS8SLfk3.js";import{D as ue,a as pe,b as je,c as ge,d as fe}from"./dialog-BPAt-TF-.js";import{W as Ne}from"./wrench-D2GTUzw_.js";import{C as I}from"./crown-Cq9T_P0l.js";import{T as E}from"./trophy-C_Kv6fHf.js";import{Z as F}from"./zap-JsjwqhbD.js";import{S as be}from"./shopping-cart-CoPQWzz9.js";import"./utils-vendor-DYGWDIxX.js";function De(){const[,T]=ae(),{isAuthenticated:g}=te(),{data:K}=ie(),{toast:l}=ne(),[a,m]=re.useState({open:!1,type:"",item:null}),{data:x,isLoading:z}=u({queryKey:["/api/settings/public/shop-status"],queryFn:async()=>{const s=await fetch("/api/settings/public/shop-status");return s.ok?s.json():{enabled:!0,mode:"enabled"}},staleTime:0,refetchInterval:3e4,refetchOnWindowFocus:!0}),{data:Y,isLoading:G}=u({queryKey:["/api/subscriptions/packages"],queryFn:async()=>{const s=await fetch("/api/subscriptions/packages",{credentials:"include"});if(!s.ok)throw new Error("Failed to fetch VIP packages");return s.json()}}),{data:L}=u({queryKey:["/api/subscriptions/my-subscription"],queryFn:async()=>{const s=await fetch("/api/subscriptions/my-subscription",{credentials:"include"});return s.ok?s.json():null},enabled:g}),{data:i,isLoading:H}=u({queryKey:["/api/battle-pass/progress"],queryFn:async()=>{const s=await fetch("/api/battle-pass/progress",{credentials:"include"});if(!s.ok)throw new Error("Failed to fetch battle pass");return s.json()},enabled:g}),{data:D,isLoading:X}=u({queryKey:["/api/flash-sales/active"],queryFn:async()=>{const s=await fetch("/api/flash-sales/active",{credentials:"include"});if(!s.ok)throw new Error("Failed to fetch flash sales");return s.json()}}),{data:q,isLoading:Z}=ce(!0),B=N({mutationFn:async s=>{const r=await b("/api/subscriptions/subscribe",{method:"POST",body:JSON.stringify({packageId:s})});if(!r.ok){const t=await r.json();throw new Error(t.message||"Failed to subscribe")}return r.json()},onSuccess:s=>{l({title:"Success!",description:s.message||"Successfully subscribed to VIP!"}),d.invalidateQueries({queryKey:["/api/subscriptions/my-subscription"]}),d.invalidateQueries({queryKey:["/api/currency/balance"]}),m({open:!1,type:"",item:null})},onError:s=>{l({title:"Error",description:s.message,variant:"error"})}}),O=N({mutationFn:async()=>{const s=await b("/api/battle-pass/upgrade",{method:"POST",body:JSON.stringify({})});if(!s.ok){const r=await s.json();throw new Error(r.message||"Failed to upgrade")}return s.json()},onSuccess:s=>{l({title:"Success!",description:s.message||"Upgraded to Premium Battle Pass!"}),d.invalidateQueries({queryKey:["/api/battle-pass/progress"]}),m({open:!1,type:"",item:null})},onError:s=>{l({title:"Error",description:s.message,variant:"error"})}}),A=N({mutationFn:async s=>{const r=await b("/api/flash-sales/purchase",{method:"POST",body:JSON.stringify({saleId:s})});if(!r.ok){const t=await r.json();throw new Error(t.message||"Failed to purchase")}return r.json()},onSuccess:s=>{l({title:"Success!",description:`${s.message} - Received ${s.coinsReceived} coins!`}),d.invalidateQueries({queryKey:["/api/currency/balance"]}),d.invalidateQueries({queryKey:["/api/flash-sales/active"]}),m({open:!1,type:"",item:null})},onError:s=>{l({title:"Error",description:s.message,variant:"error"})}}),$=N({mutationFn:async s=>{const r=await b("/api/currency/purchase",{method:"POST",body:JSON.stringify({packageId:s})});if(!r.ok){const t=await r.json();throw new Error(t.message||"Failed to purchase")}return r.json()},onSuccess:s=>{l({title:"Purchase Successful!",description:`You received ${s.coinsReceived} coins!`}),d.invalidateQueries({queryKey:["/api/currency/balance"]}),m({open:!1,type:"",item:null})},onError:s=>{l({title:"Purchase Failed",description:s.message,variant:"error"})}}),f=(s,r)=>{if(!g){T("/login?returnTo=/shop");return}m({open:!0,type:s,item:r})},_=()=>{a.type==="vip"?B.mutate(a.item.id):a.type==="battlepass"?O.mutate():a.type==="flashsale"?A.mutate(a.item.id):a.type==="coins"&&$.mutate(a.item.id)},ee=s=>{const r=new Date(s).getTime(),t=Date.now(),h=r-t;if(h<=0)return"Expired";const U=Math.floor(h/(1e3*60*60)),se=Math.floor(h%(1e3*60*60)/(1e3*60));return`${U}h ${se}m`};return z?e.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-background via-background to-primary/5",children:[e.jsx(M,{}),e.jsx("main",{className:"flex-1 flex items-center justify-center",children:e.jsx(le,{className:"w-8 h-8 animate-spin text-primary"})})]}):!x?.enabled||x?.mode&&x.mode!=="enabled"?e.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-background via-background to-primary/5",children:[e.jsx(V,{title:"Shop - AmourScans",description:"AmourScans Premium Shop",keywords:"manga shop, premium"}),e.jsx(M,{}),e.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 mt-16",children:[e.jsxs(o,{variant:"ghost",onClick:()=>T("/"),className:"w-fit text-muted-foreground hover:text-primary mb-4",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsx("div",{className:"max-w-2xl mx-auto mt-20",children:e.jsx(n,{className:"border-2 bg-card/80 backdrop-blur-md",children:e.jsx(c,{className:"p-12 text-center space-y-6",children:x?.mode==="maintenance"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mx-auto w-20 h-20 rounded-full bg-orange-500/10 flex items-center justify-center mb-4",children:e.jsx(Ne,{className:"w-10 h-10 text-orange-600 dark:text-orange-400"})}),e.jsx("h1",{className:"text-3xl font-bold",children:"Shop Under Maintenance"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"We're currently performing maintenance on our shop to bring you an even better experience. Please check back soon!"})]}):x?.mode==="coming_soon"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mx-auto w-20 h-20 rounded-full bg-blue-500/10 flex items-center justify-center mb-4",children:e.jsx(p,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"})}),e.jsx("h1",{className:"text-3xl font-bold",children:"Shop Coming Soon!"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Our premium shop is on the way! Get ready for exclusive memberships, coins, and special offers. Stay tuned!"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mx-auto w-20 h-20 rounded-full bg-gray-500/10 flex items-center justify-center mb-4",children:e.jsx(oe,{className:"w-10 h-10 text-gray-600 dark:text-gray-400"})}),e.jsx("h1",{className:"text-3xl font-bold",children:"Shop Unavailable"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"The shop is currently unavailable. Please try again later."})]})})})})]})]}):e.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-background via-background to-primary/5",children:[e.jsx(V,{title:"AmourScans Premium Shop - Coins, VIP & Battle Passes",description:"Purchase coins and VIP memberships for premium manga content. Get exclusive access, ad-free reading, special perks, and rewards with battle passes and flash sales.",keywords:"manga shop, buy coins, VIP membership, premium manga, battle pass, flash sales, manga store"}),e.jsx(M,{}),e.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 mt-16",children:[e.jsxs(o,{variant:"ghost",onClick:()=>T("/"),className:"w-fit text-muted-foreground hover:text-primary mb-4",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary via-accent to-primary bg-clip-text text-transparent mb-4",children:"Premium Shop"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Enhance your reading experience with exclusive memberships, battle passes, and limited-time offers"}),g&&K&&e.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 px-6 py-3 bg-card/80 backdrop-blur-md border border-primary/20 rounded-full",children:[e.jsx(j,{className:"w-5 h-5 text-primary"}),e.jsxs("span",{className:"font-bold text-lg",children:[K.balance," Coins"]})]})]}),e.jsxs(me,{defaultValue:"coins",className:"w-full",children:[e.jsxs(de,{className:"grid w-full max-w-5xl mx-auto grid-cols-4 mb-8",children:[e.jsxs(y,{value:"coins",className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Coin Packages"}),e.jsx("span",{className:"sm:hidden",children:"Coins"})]}),e.jsxs(y,{value:"vip",className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"VIP Memberships"}),e.jsx("span",{className:"sm:hidden",children:"VIP"})]}),e.jsxs(y,{value:"battlepass",className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Battle Pass"}),e.jsx("span",{className:"sm:hidden",children:"Pass"})]}),e.jsxs(y,{value:"flashsales",className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Flash Sales"}),e.jsx("span",{className:"sm:hidden",children:"Sales"})]})]}),e.jsx(v,{value:"coins",className:"space-y-6",children:Z?e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[1,2,3].map(s=>e.jsx(w,{className:"h-80"},s))}):q&&q.length>0?e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:q.map(s=>{const r=s.currencyAmount+Math.floor(s.currencyAmount*s.bonusPercentage/100),t=Math.floor(s.currencyAmount*s.bonusPercentage/100);return e.jsxs(n,{className:"relative overflow-hidden transition-all duration-300 hover:shadow-xl hover:scale-105 border-primary/20",children:[s.bonusPercentage>0&&e.jsxs("div",{className:"absolute top-0 right-0 bg-accent text-accent-foreground px-3 py-1 text-xs font-bold",children:["+",s.bonusPercentage,"% BONUS"]}),e.jsxs(P,{className:"text-center pb-4",children:[e.jsxs("div",{className:"mx-auto mb-4 relative",children:[e.jsx(j,{className:"w-16 h-16 text-primary"}),t>0&&e.jsx(p,{className:"w-6 h-6 text-accent absolute -top-1 -right-1"})]}),e.jsx(S,{className:"text-2xl",children:s.name}),e.jsxs(C,{className:"mt-2",children:[s.currencyAmount.toLocaleString()," coins",t>0&&e.jsxs("span",{className:"text-accent font-semibold",children:[" + ",t.toLocaleString()," bonus"]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("span",{className:"text-4xl font-bold text-primary",children:["$",s.priceUSD]})})]}),e.jsxs(c,{className:"space-y-3",children:[e.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Coins"}),e.jsx("p",{className:"text-3xl font-bold text-primary",children:r.toLocaleString()})]}),e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(k,{className:"w-4 h-4 text-primary"}),e.jsx("span",{children:"Instant delivery"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(k,{className:"w-4 h-4 text-primary"}),e.jsx("span",{children:"Use on any content"})]}),t>0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(p,{className:"w-4 h-4 text-accent"}),e.jsx("span",{className:"font-semibold text-accent",children:"Limited time bonus!"})]})]})]}),e.jsx(R,{children:e.jsxs(o,{onClick:()=>f("coins",s),className:"w-full",size:"lg",children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})]},s.id)})}):e.jsx(n,{children:e.jsxs(c,{className:"p-12 text-center",children:[e.jsx(j,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"No coin packages available at the moment"})]})})}),e.jsx(v,{value:"vip",className:"space-y-6",children:G?e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[1,2,3].map(s=>e.jsx(w,{className:"h-96"},s))}):e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:Y?.filter(s=>s.isActive==="true").map(s=>{const r=s.features?JSON.parse(s.features):[],t=L&&L.packageId===s.id&&L.status==="active";return e.jsxs(n,{className:`relative overflow-hidden transition-all duration-300 hover:shadow-xl hover:scale-105 ${s.name.includes("Elite")?"border-2 border-primary":""}`,children:[s.name.includes("Elite")&&e.jsx("div",{className:"absolute top-0 right-0 bg-primary text-primary-foreground px-3 py-1 text-xs font-bold",children:"BEST VALUE"}),e.jsxs(P,{className:"text-center pb-4",children:[e.jsx(I,{className:`w-12 h-12 mx-auto mb-4 ${s.name.includes("Elite")?"text-primary":s.name.includes("Premium")?"text-accent":"text-muted-foreground"}`}),e.jsx(S,{className:"text-2xl",children:s.name}),e.jsx(C,{children:s.description}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("span",{className:"text-4xl font-bold text-primary",children:["$",s.priceUSD]}),e.jsx("span",{className:"text-muted-foreground",children:"/month"})]})]}),e.jsxs(c,{className:"space-y-3",children:[r.map((h,U)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-sm",children:h})]},U)),s.coinBonus>0&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(j,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),e.jsxs("span",{className:"text-sm font-semibold",children:[s.coinBonus," bonus coins/month"]})]})]}),e.jsx(R,{children:e.jsx(o,{onClick:()=>f("vip",s),disabled:t,className:"w-full",variant:s.name.includes("Elite")?"default":"outline",children:t?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Current Plan"]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Subscribe"]})})})]},s.id)})})}),e.jsx(v,{value:"battlepass",className:"space-y-6",children:H?e.jsx(w,{className:"h-96"}):i?.progress&&i?.season?e.jsx("div",{className:"space-y-6",children:e.jsxs(n,{className:"bg-gradient-to-r from-card/80 to-primary/5 backdrop-blur-md border-primary/20",children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(S,{className:"text-3xl flex items-center gap-3",children:[e.jsx(E,{className:"w-8 h-8 text-primary"}),i.season.name]}),e.jsx(C,{className:"mt-2",children:i.season.description})]}),e.jsx(xe,{variant:i.progress.isPremium==="true"?"default":"outline",className:"text-lg px-4 py-2",children:i.progress.isPremium==="true"?e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"w-4 h-4 mr-1"}),"Premium"]}):"Free"})]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Current Tier: ",i.progress.currentTier]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[i.progress.experience," / ",i.progress.nextTierExperience," XP"]})]}),e.jsx(he,{value:i.progress.experience/i.progress.nextTierExperience*100,className:"h-3"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-background/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Season Ends"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(i.season.endDate).toLocaleDateString()})]}),e.jsx(W,{className:"w-6 h-6 text-muted-foreground"})]}),i.progress.isPremium!=="true"&&e.jsx(n,{className:"border-primary/50 bg-gradient-to-r from-primary/10 to-accent/10",children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Upgrade to Premium"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Unlock exclusive rewards, bonus XP, and premium tier items"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[e.jsx(p,{className:"w-4 h-4 text-primary"}),"2x Coin Rewards"]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[e.jsx(J,{className:"w-4 h-4 text-primary"}),"Exclusive Premium Tiers"]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[e.jsx(E,{className:"w-4 h-4 text-primary"}),"Special Badges & Icons"]})]})]}),e.jsxs(o,{onClick:()=>f("battlepass",null),className:"flex-shrink-0",size:"lg",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Upgrade - $9.99"]})]})})})]})]})}):e.jsx(n,{children:e.jsxs(c,{className:"p-12 text-center",children:[e.jsx(E,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"No active battle pass season"})]})})}),e.jsx(v,{value:"flashsales",className:"space-y-6",children:X?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[1,2].map(s=>e.jsx(w,{className:"h-64"},s))}):D&&D.length>0?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:D.map(s=>{const r=ee(s.endTime),t=s.maxPurchases&&s.currentPurchases>=s.maxPurchases;return e.jsxs(n,{className:"relative overflow-hidden border-2 border-accent/50 hover:border-accent transition-colors",children:[e.jsxs("div",{className:"absolute top-0 right-0 bg-accent text-accent-foreground px-4 py-1 text-sm font-bold flex items-center gap-1",children:[e.jsx(F,{className:"w-4 h-4"}),s.discountPercentage,"% OFF"]}),e.jsxs(P,{children:[e.jsx(S,{className:"text-2xl pr-24",children:s.packageName}),e.jsxs(C,{children:[s.currencyAmount.toLocaleString()," Coins"]})]}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground line-through",children:["$",s.originalPrice]}),e.jsxs("p",{className:"text-3xl font-bold text-accent",children:["$",s.salePrice]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[e.jsx(W,{className:"w-4 h-4"}),r]}),s.maxPurchases&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.currentPurchases||0," / ",s.maxPurchases," sold"]})]})]}),e.jsx(o,{onClick:()=>f("flashsale",s),disabled:t||r==="Expired",className:"w-full",size:"lg",children:t?"Sold Out":r==="Expired"?"Expired":e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})]})]},s.id)})}):e.jsx(n,{children:e.jsxs(c,{className:"p-12 text-center",children:[e.jsx(F,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"No active flash sales at the moment"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Check back soon for limited-time offers!"})]})})})]})]}),e.jsx(ue,{open:a.open,onOpenChange:s=>m({...a,open:s}),children:e.jsxs(pe,{className:"w-[95vw] max-w-lg",children:[e.jsxs(je,{children:[e.jsx(ge,{children:"Confirm Purchase"}),e.jsxs(fe,{children:[a.type==="vip"&&a.item&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("p",{children:["Subscribe to ",e.jsx("strong",{children:a.item.name})," for ",e.jsxs("strong",{children:["$",a.item.priceUSD,"/month"]}),"?"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This is a simulated purchase. No real payment will be processed."})]}),a.type==="battlepass"&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("p",{children:["Upgrade to ",e.jsx("strong",{children:"Premium Battle Pass"})," for ",e.jsx("strong",{children:"$9.99"}),"?"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This is a simulated purchase. No real payment will be processed."})]}),a.type==="flashsale"&&a.item&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("p",{children:["Purchase ",e.jsx("strong",{children:a.item.name})," for ",e.jsxs("strong",{children:["$",a.item.salePrice]}),"?"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This is a simulated purchase. No real payment will be processed."})]}),a.type==="coins"&&a.item&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("p",{children:["Purchase ",e.jsx("strong",{children:a.item.name})," for ",e.jsxs("strong",{children:["$",a.item.priceUSD]}),"?"]}),e.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg mt-3",children:[e.jsx("p",{className:"text-sm",children:"You will receive:"}),e.jsxs("p",{className:"text-2xl font-bold text-primary",children:[(a.item.currencyAmount+Math.floor(a.item.currencyAmount*a.item.bonusPercentage/100)).toLocaleString()," coins"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This is a simulated purchase. No real payment will be processed."})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx(o,{variant:"outline",onClick:()=>m({open:!1,type:"",item:null}),className:"flex-1 min-h-11",children:"Cancel"}),e.jsx(o,{onClick:_,disabled:B.isPending||O.isPending||A.isPending||$.isPending,className:"flex-1 min-h-11",children:B.isPending||O.isPending||A.isPending||$.isPending?"Processing...":"Confirm Purchase"})]})]})})]})}export{De as default};
