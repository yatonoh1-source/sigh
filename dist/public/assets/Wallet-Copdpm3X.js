import{j as e}from"./ui-vendor-_s0klCrL.js";import{u as B,b as P}from"./react-vendor-C7VPsBAG.js";import{c as _,u as D,a6 as E,aN as M,aO as W,N as h,ae as l,S as $,B as d,A as F,C as t,k as r,a9 as g,an as j,aa as I,ab as V,ac as p,ad as y,h as u,i as b,$ as N,F as U,a2 as G}from"./index-BLJ_ytcB.js";import{S as m}from"./shopping-cart-CoPQWzz9.js";import{T as O}from"./trending-down-BwsJp3ld.js";import{D as f}from"./dollar-sign-xVsTkna1.js";import{G as R}from"./gift-lTXnbkoc.js";import"./utils-vendor-DYGWDIxX.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=_("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);function ae(){const[,n]=B(),{isAuthenticated:o,isLoading:x}=D(),{data:w,isLoading:v}=E(),{data:c,isLoading:T}=M(100),{data:i,isLoading:C}=W();if(P.useEffect(()=>{!x&&!o&&n("/login?returnTo=/wallet")},[x,o,n]),x||v)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-black to-gray-900",children:[e.jsx(h,{}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-20",children:[e.jsx(l,{className:"h-12 w-96 mb-6 bg-gray-800"}),e.jsx(l,{className:"h-64 mb-6 bg-gray-800"}),e.jsx(l,{className:"h-96 bg-gray-800"})]})]});if(!o)return null;const L=a=>{switch(a){case"purchase":return e.jsx(m,{className:"w-5 h-5 text-green-500"});case"unlock_chapter":return e.jsx(g,{className:"w-5 h-5 text-orange-500"});case"gift_received":case"gift_sent":return e.jsx(R,{className:"w-5 h-5 text-purple-500"});case"admin_grant":return e.jsx(f,{className:"w-5 h-5 text-blue-500"});case"referral_reward":case"referral_bonus":return e.jsx(j,{className:"w-5 h-5 text-amber-500"});default:return e.jsx(N,{className:"w-5 h-5 text-gray-500"})}},S=a=>a.split("_").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" "),k=c?.filter(a=>a.amount>0).reduce((a,s)=>a+s.amount,0)||0,H=Math.abs(c?.filter(a=>a.amount<0).reduce((a,s)=>a+s.amount,0)||0),A=i?.reduce((a,s)=>a+parseFloat(s.amountPaid),0)||0;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-black to-gray-900",children:[e.jsx($,{title:"Wallet - Manage Your Coins & Transaction History",description:"View your coin balance, transaction history, and purchase records on AmourScans. Track earnings, spending, and all wallet activity in one place.",keywords:"wallet, coin balance, transaction history, purchase history, manga wallet, track coins"}),e.jsx(h,{}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-16",children:[e.jsxs(d,{variant:"ghost",onClick:()=>n("/"),className:"min-h-11 w-fit text-muted-foreground hover:text-primary mb-4",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 border border-primary/20 rounded-full mb-6",children:[e.jsx(Y,{className:"w-5 h-5 text-primary"}),e.jsx("span",{className:"text-sm font-semibold text-primary",children:"Your Wallet"})]}),e.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-bold text-white mb-4",children:"Coin Balance & History"}),e.jsx("p",{className:"text-gray-400 text-base sm:text-lg max-w-2xl mx-auto",children:"Track your coins, transactions, and purchase history"})]}),e.jsx(t,{className:"bg-gradient-to-br from-primary/20 to-accent/20 border-primary/40 mb-8",children:e.jsxs(r,{className:"p-8 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[e.jsx(g,{className:"w-12 h-12 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Current Balance"}),e.jsx("p",{className:"text-6xl font-bold text-white",children:w?.balance.toLocaleString()||0})]})]}),e.jsxs(d,{onClick:()=>n("/shop"),className:"mt-4 min-h-11 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90",children:[e.jsx(m,{className:"w-5 h-5 mr-2"}),"Buy More Coins"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[e.jsx(t,{className:"bg-gray-900/50 border-gray-800",children:e.jsxs(r,{className:"p-6 text-center",children:[e.jsx(j,{className:"w-10 h-10 mx-auto mb-3 text-green-500"}),e.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:k.toLocaleString()}),e.jsx("p",{className:"text-sm text-gray-400",children:"Total Earned"})]})}),e.jsx(t,{className:"bg-gray-900/50 border-gray-800",children:e.jsxs(r,{className:"p-6 text-center",children:[e.jsx(O,{className:"w-10 h-10 mx-auto mb-3 text-red-500"}),e.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:H.toLocaleString()}),e.jsx("p",{className:"text-sm text-gray-400",children:"Total Spent"})]})}),e.jsx(t,{className:"bg-gray-900/50 border-gray-800",children:e.jsxs(r,{className:"p-6 text-center",children:[e.jsx(f,{className:"w-10 h-10 mx-auto mb-3 text-amber-500"}),e.jsxs("div",{className:"text-3xl font-bold text-white mb-1",children:["$",A.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Total Purchased"})]})})]}),e.jsxs(I,{defaultValue:"transactions",className:"space-y-6",children:[e.jsxs(V,{className:"bg-gray-900/50 border border-gray-800",children:[e.jsx(p,{value:"transactions",children:"Transaction History"}),e.jsx(p,{value:"purchases",children:"Purchase History"})]}),e.jsx(y,{value:"transactions",children:e.jsxs(t,{className:"bg-gray-900/50 border-gray-800",children:[e.jsx(u,{children:e.jsx(b,{className:"text-white",children:"Transaction History"})}),e.jsx(r,{children:T?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(a=>e.jsx(l,{className:"h-16 bg-gray-800"},a))}):!c||c.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(N,{className:"w-16 h-16 mx-auto mb-4 text-gray-600"}),e.jsx("p",{className:"text-gray-400",children:"No transactions yet"})]}):e.jsx("div",{className:"space-y-3",children:c.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[L(a.type),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:a.description}),e.jsxs("p",{className:"text-sm text-gray-400",children:[S(a.type)," •"," ",new Date(a.createdAt).toLocaleString()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-lg font-bold ${a.amount>0?"text-green-500":"text-red-500"}`,children:[a.amount>0?"+":"",a.amount.toLocaleString()]}),e.jsx("p",{className:"text-xs text-gray-400",children:"coins"})]})]},a.id))})})]})}),e.jsx(y,{value:"purchases",children:e.jsxs(t,{className:"bg-gray-900/50 border-gray-800",children:[e.jsx(u,{children:e.jsx(b,{className:"text-white",children:"Purchase History"})}),e.jsx(r,{children:C?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(a=>e.jsx(l,{className:"h-16 bg-gray-800"},a))}):!i||i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(m,{className:"w-16 h-16 mx-auto mb-4 text-gray-600"}),e.jsx("p",{className:"text-gray-400",children:"No purchases yet"}),e.jsx(d,{onClick:()=>n("/shop"),className:"mt-4 min-h-11 bg-primary",children:"Visit Shop"})]}):e.jsx("div",{className:"space-y-3",children:i.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-white font-medium",children:[a.currencyReceived.toLocaleString()," coins"]}),e.jsxs("p",{className:"text-sm text-gray-400",children:[a.paymentProvider," •"," ",new Date(a.createdAt).toLocaleString()]}),a.transactionId&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1 font-mono",children:[a.transactionId.substring(0,20),"..."]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",a.amountPaid]}),e.jsx(U,{className:a.status==="completed"?"bg-green-500/20 text-green-500 border-green-500/30":a.status==="pending"?"bg-yellow-500/20 text-yellow-500 border-yellow-500/30":"bg-red-500/20 text-red-500 border-red-500/30",children:a.status})]})]},a.id))})})]})})]})]}),e.jsx(G,{})]})}export{ae as default};
