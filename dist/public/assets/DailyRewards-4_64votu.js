import{j as e}from"./ui-vendor-_s0klCrL.js";import{u as j,b as t}from"./react-vendor-C7VPsBAG.js";import{_ as p,N as c,S as w,B as l,A as b,C as v,h as N,i as C,k,ao as D,a9 as d,a2 as R,f as S}from"./index-BLJ_ytcB.js";import{G as E}from"./gift-lTXnbkoc.js";import"./utils-vendor-DYGWDIxX.js";function G(){const[,m]=j(),[r,x]=t.useState(null),[u,g]=t.useState(!0),{toast:i}=p(),n=t.useCallback(async()=>{try{const s=await fetch("/api/rewards/daily-status",{credentials:"include"});if(s.ok){const a=await s.json();x(a)}}catch{}finally{g(!1)}},[]);t.useEffect(()=>{n()},[n]);const h=async()=>{try{const s=await S("/api/rewards/claim-daily",{method:"POST"});if(s.ok){const a=await s.json();i({title:"Reward Claimed!",description:`You received ${a.coinsEarned} coins for Day ${a.day}!`}),n()}else{const a=await s.json();i({variant:"error",title:"Error",description:a.message})}}catch{i({variant:"error",title:"Error",description:"Failed to claim reward"})}};if(u)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-black to-gray-900",children:[e.jsx(c,{}),e.jsx("div",{className:"container mx-auto py-20",children:e.jsx("div",{className:"text-center text-white",children:"Loading daily rewards..."})})]});const y=Array.from({length:14},(s,a)=>a+1);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-black to-gray-900",children:[e.jsx(w,{title:"Daily Rewards - Login Rewards & Bonus Coins",description:"Claim your daily login rewards on AmourScans! Get free coins every day, build your streak, and unlock bonus rewards for consecutive logins.",keywords:"daily rewards, login bonus, free coins, daily login, streak rewards, manga bonuses"}),e.jsx(c,{}),e.jsxs("div",{className:"container mx-auto py-16 px-4",children:[e.jsxs(l,{variant:"ghost",onClick:()=>m("/"),className:"min-h-11 w-fit text-muted-foreground hover:text-primary mb-4",children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs(v,{children:[e.jsx(N,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-6 w-6"}),"Daily Login Rewards"]})}),e.jsxs(k,{children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[e.jsx(D,{className:"h-8 w-8 text-primary"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:["Day ",r?.currentDay||1]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r?.claimedToday?"Come back tomorrow!":"Ready to claim"})]})]}),r?.canClaim&&e.jsxs(l,{onClick:h,className:"min-h-11 gap-2",children:[e.jsx(d,{className:"h-5 w-5"}),"Claim ",r.nextReward," Coins"]}),r?.claimedToday&&e.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-500/10 text-green-600 rounded-lg",children:"âœ“ Today's reward claimed!"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-7 gap-2",children:y.map(s=>{const a=s===r?.currentDay,f=s<(r?.currentDay||1),o=s%7===0;return e.jsxs("div",{className:`
                    p-3 rounded-lg border-2 text-center transition-all
                    ${a?"border-primary bg-primary/10 scale-105":"border-border"}
                    ${f?"bg-muted/50":""}
                    ${o?"ring-2 ring-yellow-500":""}
                  `,children:[e.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:["Day ",s]}),e.jsxs("div",{className:"font-bold flex items-center justify-center gap-1",children:[e.jsx(d,{className:"h-3 w-3"}),o?s*10+30:s*5+5]}),o&&e.jsx("div",{className:"text-xs text-yellow-600 mt-1",children:"Bonus!"})]},s)})})]})]})]}),e.jsx(R,{})]})}export{G as default};
